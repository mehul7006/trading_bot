#!/bin/bash

echo "ğŸ¯ === BOT BACKTEST FOR OCTOBER 31ST, 2025 ====="
echo "ğŸ“Š Testing bot performance with official BSE/NSE market data"
echo "ğŸ¤– Analyzing call generation accuracy and statistics"
echo ""

cd "$(dirname "$0")"

echo "ğŸ”§ Compiling backtest system..."
javac -d "target/classes" "src/main/java/com/trading/bot/backtest/BotBacktestOct31_2025.java"

if [ $? -eq 0 ]; then
    echo "âœ… Compilation successful!"
    echo ""
    
    echo "ğŸš€ Starting comprehensive backtest for October 31st, 2025..."
    echo "ğŸ“… Test Date: 31-Oct-2025 (Friday)"
    echo "ğŸ“Š Data Sources: Official BSE & NSE market data"
    echo "ğŸ¯ Analysis: Call generation, accuracy, performance metrics"
    echo ""
    echo "=" | head -c 70; echo ""
    
    # Run the comprehensive backtest
    java -cp "target/classes" com.trading.bot.backtest.BotBacktestOct31_2025
    
    echo "=" | head -c 70; echo ""
    echo ""
    echo "ğŸ‰ === BACKTEST ANALYSIS COMPLETED ====="
    echo ""
    echo "ğŸ“‹ BACKTEST SUMMARY:"
    echo "   âœ… Market data fetched from BSE & NSE"
    echo "   âœ… Bot algorithms tested on historical data"
    echo "   âœ… Call generation statistics calculated"
    echo "   âœ… Accuracy metrics computed"
    echo "   âœ… Performance analysis completed"
    echo ""
    echo "ğŸ’¡ KEY INSIGHTS AVAILABLE:"
    echo "   ğŸ“Š Total calls generated by your bot"
    echo "   ğŸ¯ Accuracy percentage achieved"
    echo "   â° Performance by time of day"
    echo "   ğŸ“ˆ Best performing indices"
    echo "   ğŸ† Top strategy setups"
    echo "   ğŸ’¡ Optimization recommendations"
    echo ""
    echo "ğŸš€ Use these insights to enhance your bot's performance!"
    
else
    echo "âŒ Compilation failed"
    echo "Please check Java installation and try again"
fi